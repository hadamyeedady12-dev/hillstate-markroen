# 힐스테이트 마크로엔 입주민 흥보장터

## 프로젝트 개요

힐스테이트 마크로엔 단지 내 자영업자분들을 위한 프리미엄 흥보공간입니다. 카테고리별로 사진과 정보를 공유하며, 입주민들이 쉽게 지역 상점들을 발견하고 이용할 수 있도록 돕습니다.

## 🆕 최신 업데이트 (2025-09-03)

### 검색창 위치 개선 (v1.4)
- **검색창을 카테고리 버튼과 같은 줄로 이동**
  - 네비게이션 바에 카테고리, 검색창, 정렬 옵션을 한 줄로 배치
  - 공간 효율성 개선으로 더 많은 콘텐츠 영역 확보
  - 인라인 검색바로 더 직관적인 UI 구성
  
- **반응형 디자인 최적화**
  - 모바일에서도 모든 요소가 한 줄에 표시
  - 작은 화면에서도 사용성 유지
  - 검색창과 정렬 옵션의 크기 자동 조절

### '흥보글 요청' 버튼 위치 개선 (v1.3)
- **버튼 위치 및 가시성 개선**
  - 페이지 상단 오른쪽 구석에 고정 배치 (데스크톱/모바일 모두)
  - 헤더 외부에 독립적으로 위치하여 항상 접근 가능
  - z-index 101로 설정하여 모든 요소 위에 표시
  
- **시각적 효과 강화**
  - 카카오톡 스타일 그라데이션 배경 적용
  - 부드러운 펄스 애니메이션으로 주목도 향상
  - 호버 시 확대 및 그림자 효과 강화
  - fadeIn 애니메이션으로 자연스러운 등장 효과

### 모바일 UI 개선 (v1.2)
- **모바일 다크모드 버튼 위치 개선**
  - 데스크톱: 우측 하단 플로팅 버튼 유지
  - 모바일: 상단 네비게이션 바 내부로 이동하여 접근성 향상
  - 아이콘 전용 컴팩트 디자인 적용

## 이전 업데이트 (2025-09-03)

### UI/UX 완성도 개선 (v1.1)
- **헤더 네비게이션 버튼 정렬 및 간격 개선**
  - 카테고리 탭 높이 통일 (36px)
  - 흐보글 요청 버튼 위치 및 크기 최적화
  - 버튼 간 적절한 간격 설정

- **검색바와 드롭다운 레이아웃 개선**
  - 필터 영역 독립적인 배경색 적용
  - 검색 입력 필드 focus 시 시각적 피드백
  - 드롭다운 아이콘 및 호버 효과 추가

- **반응형 디자인 전면 개선**
  - 모바일: 네비게이션 한 줄 유지, 아이콘 최적화
  - 태블릿: 버튼 크기 및 간격 조정
  - 소형 모바일: 폰트 크기 및 패딩 최적화

- **다크모드 스타일 개선**
  - 일관된 색상 스키마 적용
  - 호버 효과 및 트랜지션 최적화
  - 황금색 포인트 켬러 유지

### 이전 업데이트: UI/UX 컴팩트 디자인 적용
- 헤더 영역 세로 패딩 축소 (1.5rem → 1rem)
- 히어로 셉션 최소 높이 축소 (100px → 70px)
- 네비게이션 탭 높이 최적화 (32px → 30px)
- 검색 바 및 필터 영역 패딩 축소
- 모바일 반응형에서도 일관된 컴팩트 디자인 적용

### 이전 업데이트: 대규모 리팩토링 및 모듈화
- 단일 app.js를 기능별 모듈로 분리하여 유지보수성/가독성 향상
- inline 이벤트 제거, 이벤트 리스너 기반 구조로 전환
- 초기화/데이터 로딩/렌더/이벤트 바인딩 로직을 main.js에서 통합 제어
- 공용 DOM/렌더링 유틸 UI 모듈 추가, API 호출 래퍼 추가
- 테마/이미지 업로드/드래그정렬/관리자 로직을 각각 theme.js, images.js, reorder.js, admin.js로 분리

### 프리미엄 블랙 디자인 유지 및 세부 개선
- 블랙 & 골드 톤 유지, 호버/포커스 애니메이션 미세 조정
- 모바일 타이틀 균형 유지: `word-break: keep-all; text-wrap: balance; line-height: 1.25; max-width: 22~24ch`
- 카테고리 탭 스크롤 힌트 개선 및 자동 스크롤 함수 안정화

### 접근성/UX
- 키보드 ESC로 모달 닫기, 외부 클릭 닫기 유지
- 테마 토글 단축키(Ctrl+Shift+T) 유지, 헤더 더블클릭 토글 유지
- 버튼 호버 애니메이션, 요청 버튼 초보자 안내 애니메이션 유지

## 주요 기능

### ✅ 구현된 기능

1. **카테고리별 분류 시스템**
   - 맛집/음식
   - 미용/뷰티
   - 헬스/건강
   - 교육/학습
   - 생활서비스
   - **카테고리 클릭 시 실시간 필터링**

2. **게시판 기능**
   - 흥보글 등록/조회
   - 이미지 갤러리
   - 상세 정보 보기
   - 조회수 카운트

3. **프리미엄 디자인**
   - 애플 스타일 UI/UX
   - 반응형 레이아웃 (모바일, 태블릿, 데스크탑)
   - 블러 효과 & 그라디언트
   - 부드러운 호버 애니메이션

4. **데이터 관리**
   - RESTful API 기반 데이터 저장
   - 실시간 데이터 업데이트

5. **관리자 시스템**
   - 하단 우측 플로팅 버튼으로 접근
   - 패스코드: `admin1234`
   - 로그인 시 흥보글 등록 및 순서 변경 가능

6. **흥보글 요청 기능**
   - 상단 '흥보글 요청' 버튼
   - 오픈카톡으로 관리자 직접 연결
   - **⚠️ 중요: `js/main.js`의 `openKakaoChat()` 함수에서 실제 오픈카톡 URL 설정 필요**

7. **이미지 업로드 기능**
   - 파일 선택 버튼을 통한 직접 이미지 업로드
   - 여러 개의 이미지 파일 동시 선택 가능
   - 업로드된 이미지 미리보기 및 개별 삭제 기능
   - Base64 인코딩으로 이미지 저장
   - URL 입력과 파일 업로드 동시 지원
   - 지원 형식: JPG, JPEG, PNG, WEBP, GIF, SVG, BMP, AVIF

8. **드래그 앤 드롭 순서 변경**
   - 관리자 모드에서 카드 순서 변경 가능
   - 드래그 앤 드롭으로 직관적인 순서 조정
   - 변경된 순서 서버에 저장
   - display_order 필드로 영구 보존

## 프로젝트 구조

```
아파트-흥보공간/
├── index.html              # 메인 페이지
├── css/
│   └── style.css           # 스타일 시트
├── js/
│   ├── state.js           # 전역 상태 및 상수
│   ├── api.js             # RESTful Table API 래퍼
│   ├── ui.js              # 렌더링/DOM 유틸
│   ├── images.js          # 이미지 업로드/미리보기
│   ├── reorder.js         # 드래그 앤 드롭 정렬
│   ├── admin.js           # 관리자 로그인/등록 처리
│   ├── theme.js           # 테마 초기화/토글
│   └── main.js            # 초기화 및 이벤트 바인딩 총괄
└── README.md             # 프로젝트 문서
```

## 데이터베이스 스키마

### Categories 테이블
- **id**: 카테고리 고유 ID
- **name**: 카테고리 이름
- **description**: 카테고리 설명
- **icon**: Font Awesome 아이콘 클래스
- **order**: 정렬 순서

### Posts 테이블
- **id**: 게시글 고유 ID
- **category_id**: 카테고리 ID (외래키)
- **business_name**: 업체명
- **owner_name**: 대표자명
- **contact**: 연락처
- **business_hours**: 영업시간
- **description**: 업체 소개
- **images**: 이미지 URL 배열 (URL 또는 Base64 인코딩)
- **address**: 주소
- **location_url**: 지도 링크
- **views**: 조회수
- **display_order**: 표시 순서
- **created_at**: 생성일시
- **updated_at**: 수정일시

## 사용 방법

### 1. 웹사이트 접속
- **기본 URL**: `index.html`
- **데모 URL**: 프로젝트 배포 후 확인 가능

### 2. 카테고리별 보기
- 상단 탭에서 원하는 카테고리 선택
- 전체 보기는 "전체" 탭 클릭

### 3. 흥보글 요청
- 상단의 "흥보글 요청" 버튼 클릭
- 오픈카톡으로 관리자에게 직접 연결
- **⚠️ 설정 필요: `js/main.js`의 `openKakaoChat()` 함수에서 실제 오픈카톡 URL로 변경**

### 4. 흥보글 등록 (관리자 전용)
- 하단 우측 플로팅 버튼(⚙️) 클릭하여 관리자 로그인
- 양식 작성 후 등록
- 필수 항목: 카테고리, 업체명, 대표자명, 연락처, 주소, 영업시간, 업체 소개
- 이미지 업로드: 파일 선택 버튼으로 직접 업로드 또는 URL 입력
- 여러 개의 이미지 동시 업로드 가능

### 관리자 로그인 및 권한
- 하단 우측 설정 아이콘(⚙️) 클릭 → 관리자 암호 입력(기본값: admin1234)
- 성공 시 "흥보글 등록" 및 "순서 변경" 버튼이 활성화
- 로그아웃: 상단의 "로그아웃" 버튼
- 암호 변경: js/admin.js 파일의 PASSCODE 상수 값을 수정

### 5. 카드 순서 변경 (관리자 전용)
- 관리자 로그인 후 "순서 변경" 버튼 클릭
- 카드를 드래그하여 원하는 위치로 이동
- "저장" 버튼으로 변경사항 저장
- "취소" 버튼으로 원래 순서로 복원

### 4. 상세 정보 확인
- 게시글 카드 클릭 시 상세 정보 팝업
- 이미지 갤러리, 지도 링크 제공

## 검색/정렬/페이지네이션

- 검색: 상단 검색창에서 업체명/설명/주소/대표자명 포함 텍스트로 필터링 (클라이언트 사이드)
- 정렬: 최신순/조회수순/가나다순 선택 가능
- 페이지네이션: 최초 12개 로드, '더 보기' 버튼으로 12개씩 추가 로드

## API 엔드포인트

### 카테고리 API
- `GET tables/categories` - 카테고리 목록 조회
- `GET tables/categories/{id}` - 특정 카테고리 조회

### 게시글 API
- `GET tables/posts` - 전체 게시글 조회
- `GET tables/posts?search={category_id}` - 카테고리별 게시글 조회
- `GET tables/posts/{id}` - 특정 게시글 조회
- `POST tables/posts` - 새 게시글 등록
- `PUT tables/posts/{id}` - 게시글 수정
- `DELETE tables/posts/{id}` - 게시글 삭제

## 기술 스택

### 프론트엔드
- **HTML5** - 시맨틱 마크업
- **CSS3** - 스타일링 및 애니메이션
- **JavaScript (ES6+)** - 인터랙티브 기능
- **Font Awesome** - 아이콘
- **Google Fonts** - 웹 폰트

### 데이터 저장소
- **RESTful Table API** - 클라이언트 사이드 데이터 저장

## 설치 및 실행

1. 프로젝트 파일 다운로드
2. 웹 브라우저에서 `index.html` 열기
3. 바로 사용 가능

## 필요한 설정

### 오픈카톡 URL 설정
1. `js/main.js` 파일 열기
2. `openKakaoChat()` 함수 찾기 (맨 아래 부근)
3. `const kakaoUrl = 'https://open.kakao.com/o/YOUR_OPENCHAT_LINK';` 부분을
4. 실제 오픈카톡 URL로 변경
   예: `const kakaoUrl = 'https://open.kakao.com/o/gXXXXXXX';`

## 최근 기능 추가 사항 (2025-09-02)

### 이미지 파일 업로드 기능
- **파일 선택 버튼**: 클릭하여 로컬 이미지 파일 선택
- **다중 선택**: 여러 개의 이미지를 한 번에 선택 가능
- **미리보기**: 선택한 이미지를 즉시 확인
- **개별 삭제**: 업로드된 이미지를 개별적으로 제거 가능
- **Base64 변환**: 이미지를 Base64로 인코딩하여 저장
- **URL 입력 병행**: 기존 URL 입력 방식도 함께 사용 가능

### 드래그 앤 드롭 순서 변경
- **순서 변경 모드**: 관리자만 사용 가능한 전용 모드
- **직관적 조작**: 카드를 드래그하여 원하는 위치로 이동
- **시각적 피드백**: 드래그 중인 카드와 드롭 위치 표시
- **저장/취소**: 변경사항 저장 또는 원래 순서로 복원
- **영구 보존**: display_order 필드에 순서 정보 저장

## 이전 UI/UX 개선 사항

- 탭 아이콘이 텍스트로 노출되던 문제 해결: icon 값을 실제 아이콘 태그로 렌더링(`<i class="{icon}"></i>`)하도록 수정
- 기본 폰트를 Inter로 교체, 본문/메타 색상을 톤다운해 가독성 향상
- 카테고리 헤더에 아이콘 표시 및 여백/라인하이트 재정리로 시각적 계층 강화
- 카테고리 탭을 Pill 스타일로 변경(둥근 테두리, 미세한 그림자). 활성 탭 컬러/그림자 개선
- 카드 레이아웃의 제목/설명/메타/연락처 타이포 정리, 그리드 간격(Rhythm) 통일
- 상세 보기 이미지 썸네일 라운드/사이즈 개선(220px) 및 레이아웃 안정성 강화
- 기본 이미지가 없을 때 사용자 제공 기본 이미지(URL) 사용
  - https://page.gensparksite.com/v1/base64_upload/97b5aa096ddabde83acc918c6947cf82

이미지 업로드 가이드
- **파일 업로드**: "이미지 파일 선택" 버튼으로 로컬 파일 업로드
- **URL 입력**: 줄바꿈 또는 쉼표(,)로 여러 개 입력 가능
- **지원 확장자**: JPG, JPEG, PNG, WEBP, GIF, SVG, BMP, AVIF
- **혼합 사용**: 파일 업로드와 URL 입력을 동시에 사용 가능

아이콘 데이터 입력 가이드
- categories.icon 필드에는 Font Awesome 클래스명을 저장하세요.
  - 예) "fas fa-utensils", "fas fa-cut", "fas fa-heartbeat", "fas fa-graduation-cap", "fas fa-concierge-bell"
- 기존 데이터도 자동으로 아이콘이 표시됩니다.

## 보안 및 한계
- 본 프로젝트는 정적 사이트이므로 서버측 인증/세션을 구현하지 않습니다.
- 현재의 관리자 기능은 클라이언트 측 패스코드 기반으로, 보안 목적이 아닌 접근 제어 장치입니다.
- 민감한 운영 환경에서는 서버 기반 인증/권한 관리(예: 세션, 토큰, RBAC)가 필요합니다.

## 향후 개선 사항

### 🚧 예정된 기능
- [ ] 회원 가입 및 로그인 시스템
- [ ] 댓글 및 평점 기능
- [ ] 이미지 직접 업로드 (현재는 URL만 가능)
- [ ] 알림 기능
- [ ] 모바일 앱 버전
- [ ] 위치 기반 서비스

### 🎯 확장 가능성
- [ ] 프로모션 이벤트 게시판
- [ ] 실시간 채팅 상담
- [ ] 예약 시스템 연동
- [ ] 리뷰 시스템

## 사용 예시

### 테스트 데이터
현재 등록된 흥보글:
- 맛있는 김치찌개 (음식)
- 아름다운 네일샵 (뷰티)
- 건강나라 헬스장 (건강)
- 수학의 정석 학원 (교육)
- 24시간 세탁마트 (서비스)

### 연락처 정보
프로젝트 문의: [연락처 입력]

---

**아파트 입주민 흥보공간** - 우리 이웃의 작은 가게를 응원합니다!